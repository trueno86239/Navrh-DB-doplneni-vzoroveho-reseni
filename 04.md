## 4️⃣ Datové typy a integritní omezení

### Zadání

Pro každý atribut:

* navrhni **datový typ** (MySQL / MariaDB),
* určete **integritní omezení**, kde dávají smysl:

  * `PRIMARY KEY`
  * `NOT NULL`
  * `UNIQUE`
  * `FOREIGN KEY`
  * `CHECK`

### Požadovaný výstup

* tabulkový přehled atributů, datových typů a omezení (Markdown tabulky).

### Otázky k zamyšlení
1. Co jsou datové typy a jaký mají význam z hlediska uchovávání dat v DB?
2. Co jsou integritní omezení?

---

### Řešení

tabulka: `servers`

| název atributu | význam atributu, popis     | datový typ  | integritní omezení                           |
| :---           | :---                       | :---        | :---                                         |
| id             | primární klíč              | INT         | NOT NULL UNSIGNED AUTO_INCREMENT PRIMARY KEY |
| name           | název serveru              | VARCHAR(30) | NOT NULL UNIQUE                              |
| os             | operační systém            | VARCHAR(30) | NOT NULL                                     |
| os_ver         | verze operačního systému   | VARCHAR(50) | NOT NULL                                     |

tabulka: `services`

| název atributu | význam atributu, popis          | datový typ                  | integritní omezení                           |
| :---           | :---                            | :---                        | :---                                         |
| id             | primární klíč                   | INT                         | NOT NULL UNSIGNED AUTO_INCREMENT PRIMARY KEY |
| name           | název služby / sw               | VARCHAR(30)                 | NOT NULL                                     |
| s_type         | typ služby - aplikační / síťová | ENUM('aplikační', 'síťová') | NOT NULL                                     |
| s_ver          | verze služby / sw               | VARCHAR(50)                 | NOT NULL                                     |

pomocná tabulka: `services_running_on_servers`

| název atributu | význam atributu, popis                          | příklad   | datový typ   | integritní omezení                                               |
| :---           | :---                                            | :---      | :---         | :---                                                             |
| servers_id     | cizí klíč -> servers.id, složený primární klíč  | 2         | INT          | NOT NULL UNSIGNED PRIMARY KEY FOREIGN KEY REFERS TO servers.id   |
| services_id    | cizí klíč -> services.id, složený primární klíč | 25        | INT          | NOT NULL UNSIGNED PRIMARY KEY FOREIGN KEY REFERS TO services.id  |
| domain         | název domény                                    | localhost | VARCHAR(255) | NULL                                                             |
| IPv4           | IP adresa v4                                    | 127.0.0.1 | VARCHAR(15)  | NULL                                                             |
| IPv6           | IP adresa v6                                    | NULL      | VARCHAR(39)  | NULL                                                             |
| port           | číslo portu                                     | 3306      | INT          | NULL                                                             |
| protocol       | název protokolu                                 | NULL      | VARCHAR(20)  | NULL                                                             |
| deployment_date| kdy byla služba nasazena                        | 2026-08-26| DATE         | NULL                                                             |
| state          | v jakém režimu běží                             | Running   | VARCHAR(20)  | NULL                                                             |
---

1. **Datové typy** určují, jaký druh hodnot může být v databázovém atributu uložen a jak se s nimi pracuje. Zajišťují správné ukládání dat, úsporu místa a kontrolu správnosti vstupů.
2. **Integritní omezení** jsou pravidla, která zajišťují správnost, konzistenci a validitu dat v databázi. Zabraňují ukládání neplatných nebo logicky chybných dat.